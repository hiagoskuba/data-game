<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <title>Data Game</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.31.0/build/stlite.css" />
  </head>
  <body>
    <div id="root"></div>
    <script src="https://cdn.jsdelivr.net/npm/@stlite/mountable@0.31.0/build/stlite.js"></script>
    <script>
      stlite.mount({
        requirements: [], // Adicione bibliotecas extras aqui se usar (ex: pandas)
        entrypoint: "app.py",
        files: {
          "app.py": `
import streamlit as st

# Configura√ß√£o da p√°gina
st.set_page_config(page_title="Data Game", page_icon="üìä")

# Banco de perguntas baseado nas suas anota√ß√µes KEEP
questions = [
    {
        "question": "Se voc√™ seleciona um subconjunto onde cada elemento tem a mesma chance de ser escolhido, voc√™ usa:",
        "options": ["Amostra n√£o-probabil√≠stica", "Amostra probabil√≠stica aleat√≥ria", "Amostra por conveni√™ncia"],
        "answer": "Amostra probabil√≠stica aleat√≥ria",
        "explanation": "Na amostragem aleat√≥ria, todos t√™m igual chance, garantindo maior confiabilidade conforme suas notas."
    },
    {
        "question": "Qual tipo de vari√°vel √© a 'Escolaridade' (Gradua√ß√£o, P√≥s, Doutorado), onde existe uma hierarquia?",
        "options": ["Quantitativa Discreta", "Qualitativa Nominal", "Qualitativa Ordinal"],
        "answer": "Qualitativa Ordinal",
        "explanation": "Vari√°veis ordinais seguem uma ordem ou est√°gio (ex: n√≠veis de escolaridade ou est√°gio de uma doen√ßa)."
    },
    {
        "question": "Se as decis√µes dos funcion√°rios mudam conforme a vontade do chefe, o comportamento do funcion√°rio √© uma:",
        "options": ["Vari√°vel Independente", "Vari√°vel Dependente", "Vari√°vel Quantitativa Cont√≠nua"],
        "answer": "Vari√°vel Dependente",
        "explanation": "A vari√°vel dependente √© aquela influenciada por outra (neste caso, a decis√£o do chefe √© a independente)."
    },
    {
        "question": "Entrevistar apenas pessoas que passam em uma pra√ßa por ser mais f√°cil √© qual m√©todo?",
        "options": ["Amostragem por Conglomerado", "Amostra por Conveni√™ncia", "Censo"],
        "answer": "Amostra por Conveni√™ncia",
        "explanation": "A amostra por conveni√™ncia foca na facilidade de acesso, mas pode n√£o representar a popula√ß√£o fielmente."
    }
]

# Inicializa√ß√£o do estado
if 'score' not in st.session_state:
    st.session_state.score = 0
    st.session_state.current_q = 0
    st.session_state.game_over = False

st.title("üéØ Data Game")
st.write(f"Pontos de Confian√ßa: **{st.session_state.score}**")

if not st.session_state.game_over:
    q = questions[st.session_state.current_q]
    
    # Barra de progresso estilo Duolingo
    progress = (st.session_state.current_q) / len(questions)
    st.progress(progress)
    
    st.subheader(f"Desafio {st.session_state.current_q + 1}:")
    st.info(q["question"])
    
    for option in q["options"]:
        if st.button(option, key=f"{st.session_state.current_q}_{option}"):
            if option == q["answer"]:
                st.success("Correto! üéâ")
                st.session_state.score += 25
            else:
                st.error(f"Incorreto. A resposta era: {q['answer']}")
            
            st.write(f"üí° *Por que?* {q['explanation']}")
            
            if st.session_state.current_q < len(questions) - 1:
                st.session_state.current_q += 1
                st.button("Pr√≥xima fase ‚û°Ô∏è")
            else:
                st.session_state.game_over = True
                st.button("Ver meu veredito")
else:
    st.balloons()
    st.header("An√°lise Conclu√≠da!")
    st.write(f"Sua pontua√ß√£o final foi: **{st.session_state.score} de 100**")
    if st.session_state.score >= 75:
        st.success("Selo de Analista Confi√°vel Concedido! üèÜ")
    else:
        st.warning("Cuidado com os vieses! Revise suas notas de amostragem.")
        
    if st.button("Reiniciar Treinamento"):
        st.session_state.score = 0
        st.session_state.current_q = 0
        st.session_state.game_over = False
        st.rerun()
`
        },
      }, document.getElementById("root"));
    </script>
  </body>
</html>
